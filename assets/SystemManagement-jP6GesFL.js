import{_ as R,ba as B,v as i,I as N,J as _,M as t,R as s,K as h,T as a,aQ as f,B as d,Q as c,U,aP as T,bd as E,V as F,h as p}from"./index-CAuj7ceO.js";import{A as L,N as V}from"./Add-BMzGieyV.js";import{N as A,S as D,a as q}from"./Search-CqABQfB-.js";import{N as m}from"./Input-CD8GsJOj.js";import{N as O,a as o}from"./FormItem-Ca4r8WPB.js";import{a as j}from"./Pagination-JsrDlLZe.js";import{N as z}from"./Switch-a6Ivnkdd.js";import"./Checkbox-DaFERd3F.js";import"./Add-a8GTv_U1.js";const G={class:"system-management"},Q={class:"action-bar"},$={key:0,class:"icon-preview"},J=["src"],K={__name:"SystemManagement",setup(W){const y=B(),g=i(null),n=i(!1),v=i(!1),b=i(""),k=[{label:"一般使用者",value:"user"},{label:"管理員",value:"admin"},{label:"系統管理員",value:"system_admin"},{label:"訪客",value:"guest"},{label:"開發者",value:"developer"}],u=i({name:"",type:null,icon:"",description:"",url:"",status:!0,sort:0}),w={name:{required:!0,message:"請輸入系統名稱",trigger:"blur"},type:{required:!0,message:"請選擇系統角色",trigger:"change"},description:{required:!0,message:"請輸入系統描述",trigger:"blur"},url:{required:!0,message:"請輸入系統URL",trigger:"blur"}},C=[{title:"系統名稱",key:"name"},{title:"系統角色",key:"type",render(r){return p("span",{},{user:"一般使用者",admin:"管理員",system_admin:"系統管理員",guest:"訪客",developer:"開發者"}[r.type]||r.type)}},{title:"狀態",key:"status",render(r){return p("n-tag",{type:r.status?"success":"error"},{default:()=>r.status?"已上架":"已下架"})}},{title:"排序",key:"sort"},{title:"URL",key:"url",ellipsis:{tooltip:!0}},{title:"操作",key:"actions",render(r){return p(f,{},{default:()=>[p(d,{size:"small",onClick:()=>x(r)},{default:()=>"編輯"}),p(d,{size:"small",type:"error",onClick:()=>M()},{default:()=>"刪除"})]})}}],I=i([{id:1,name:"TIPTOP系統",type:"user",status:!0,sort:1,url:"http://10.20.99.90/tiptop.html"},{id:2,name:"MAIL系統",type:"user",status:!0,sort:2,url:"https://dwm6.digiwin.com/coremail/index.jsp"},{id:3,name:"EFGP系統",type:"user",status:!0,sort:3,url:"https://efgptw.digiwin.com/NaNaWeb/GP//ForwardIndex?hdnMethod=findIndexForward"},{id:4,name:"BI系統",type:"admin",status:!0,sort:4,url:"http://10.20.99.71:8080/BOE/BI"},{id:5,name:"ACP系統",type:"admin",status:!0,sort:5,url:"https://acpms.digiwin.com/"},{id:6,name:"顧問CRM系統",type:"admin",status:!0,sort:6,url:"http://crmservice.dsc.com.tw/DSC.NET/Project/VENTURA/src/_Common/PlatFormUtil/OtherPage/DSCPage/FrameSet/DefaultStyle/Login.aspx"}]),S={pageSize:10},x=r=>{v.value=!0,u.value={...r,icon:r.icon},n.value=!0},M=r=>{y.success("刪除成功")},P=()=>{var r;(r=g.value)==null||r.validate(e=>{if(!e){const l={...u.value,icon:u.value.icon};console.log("提交的數據：",l),y.success(v.value?"更新成功":"新增成功"),n.value=!1}})};return(r,e)=>(_(),N("div",G,[t(a(T),{title:"系統管理",class:"management-card"},{default:s(()=>[h("div",Q,[t(a(f),null,{default:s(()=>[t(a(d),{type:"primary",onClick:e[0]||(e[0]=l=>n.value=!0)},{icon:s(()=>[t(a(U),null,{default:s(()=>[t(a(L))]),_:1})]),default:s(()=>[e[11]||(e[11]=c(" 新增系統 "))]),_:1,__:[11]}),t(a(A),null,{default:s(()=>[t(a(m),{value:b.value,"onUpdate:value":e[1]||(e[1]=l=>b.value=l),placeholder:"搜尋系統..."},null,8,["value"]),t(a(d),{type:"primary",ghost:""},{icon:s(()=>[t(a(U),null,{default:s(()=>[t(a(D))]),_:1})]),_:1})]),_:1})]),_:1})]),t(a(V),{columns:C,data:I.value,pagination:S,bordered:!1,"single-line":!1},null,8,["data"])]),_:1}),t(a(F),{show:n.value,"onUpdate:show":e[10]||(e[10]=l=>n.value=l),title:v.value?"編輯系統":"新增系統",preset:"card",style:{width:"600px"}},{footer:s(()=>[t(a(f),{justify:"end"},{default:s(()=>[t(a(d),{onClick:e[9]||(e[9]=l=>n.value=!1)},{default:s(()=>e[12]||(e[12]=[c("取消")])),_:1,__:[12]}),t(a(d),{type:"primary",onClick:P},{default:s(()=>e[13]||(e[13]=[c("確定")])),_:1,__:[13]})]),_:1})]),default:s(()=>[t(a(O),{ref_key:"formRef",ref:g,model:u.value,rules:w,"label-placement":"left","label-width":"100","require-mark-placement":"right-hanging"},{default:s(()=>[t(a(o),{label:"系統名稱",path:"name"},{default:s(()=>[t(a(m),{value:u.value.name,"onUpdate:value":e[2]||(e[2]=l=>u.value.name=l),placeholder:"請輸入系統名稱"},null,8,["value"])]),_:1}),t(a(o),{label:"系統角色",path:"type"},{default:s(()=>[t(a(j),{value:u.value.type,"onUpdate:value":e[3]||(e[3]=l=>u.value.type=l),options:k,placeholder:"請選擇系統角色"},null,8,["value"])]),_:1}),t(a(o),{label:"系統圖示",path:"icon"},{default:s(()=>[t(a(m),{value:u.value.icon,"onUpdate:value":e[4]||(e[4]=l=>u.value.icon=l),placeholder:"請輸入圖片URL"},null,8,["value"]),u.value.icon?(_(),N("div",$,[h("img",{src:u.value.icon,alt:"系統圖示"},null,8,J)])):E("",!0)]),_:1}),t(a(o),{label:"系統描述",path:"description"},{default:s(()=>[t(a(m),{value:u.value.description,"onUpdate:value":e[5]||(e[5]=l=>u.value.description=l),type:"textarea",placeholder:"請輸入系統描述"},null,8,["value"])]),_:1}),t(a(o),{label:"系統URL",path:"url"},{default:s(()=>[t(a(m),{value:u.value.url,"onUpdate:value":e[6]||(e[6]=l=>u.value.url=l),placeholder:"請輸入系統URL"},null,8,["value"])]),_:1}),t(a(o),{label:"系統狀態",path:"status"},{default:s(()=>[t(a(z),{value:u.value.status,"onUpdate:value":e[7]||(e[7]=l=>u.value.status=l)},null,8,["value"])]),_:1}),t(a(o),{label:"排序",path:"sort"},{default:s(()=>[t(a(q),{value:u.value.sort,"onUpdate:value":e[8]||(e[8]=l=>u.value.sort=l),min:0},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","title"])]))}},ue=R(K,[["__scopeId","data-v-fedbdd28"]]);export{ue as default};
